{%extends "common/parent.tpl"%}


{%block title%}Passport Pop Test{%endblock%}

{%block top%}
<style type="text/css">
    pre{
        background: #000;
        padding: 1em;
        white-space: pre-wrap;
        margin: 0;
        font:20px/1.5 "Courier New",Helvetica,Arial,sans-serif;
    }
    .orange{
        color: orange;
    }
    .cyan{
        color: cyan;
    }
    .yellow{
        color: yellow;
    }
    .red{
        color: red;
    }
    button{
        padding: 0.2em 1em;
        text-align: center;
        height: 25px;;
        background: #eee;
        border: 1px solid #fff;
        border-radius: 10px;
        margin: 5px;
    }
    .markd{
        background: #ccc;
    }
</style>
{%endblock%}

{%block content%}

{%set menuIndex=5%}
{%include "common/menu.tpl"%}

<div class="markd">
    <span>允许省略构建登录对话框，直接弹出</span>
    <button>弹出<sup>&beta;</sup></button>
</div>

<pre>

<span class="orange">PassportSC</span>({
    appid:1120,
    redirectUrl:location.protocol + '//' + location.host + '/jump.html'
}).<span class="cyan">on</span>('<b>loginsuccess loginfailed 3rdloginsuccess</b>',function(e){
    if('loginsuccess' === e.type)...
}).<span class="cyan">requirePlugins</span>('<b>pop</b>',function(){
    <span class="orange">this</span>.pop({
        <span class="red">skin</span>:'wan',
        <span class="red">mask</span>:true,//show a half-opacity background
        <span class="red">maskClickClose</span>:true,//click the half-opacity bg to click the dialog
        //we do not need 'container'
        <span class="red">trdRedirectUrl</span>:location.protocol + '//' + location.host + '/static/popup.html'
    });
});
</pre>
{%endblock%}

{%block bottom%}
<script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
<script src="dist/local/js/passport-core.js"></script>
<script>
 PassportSC({
        appid:1120,
        redirectUrl:location.protocol + '//' + location.host + '/jump.html'
    });

$('button').click(function(e){
        PassportSC.requirePlugins('pop','DD_belatedPNG','pop',function(){
            PassportSC.pop({
                skin:'wan',
                mask:true,
                maskClickClose:true,
                trdRedirectUrl:location.protocol + '//' + location.host + '/popup.html'
        });
});
});
</script>
{%endblock%}

