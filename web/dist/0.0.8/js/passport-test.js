!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b){return m.isUndefined(b)?""+b:!m.isNumber(b)||!isNaN(b)&&isFinite(b)?m.isFunction(b)||m.isRegExp(b)?b.toString():b:b.toString()}function d(a,b){return m.isString(a)?a.length<b?a:a.slice(0,b):a}function e(a){return d(JSON.stringify(a.actual,c),128)+" "+a.operator+" "+d(JSON.stringify(a.expected,c),128)}function f(a,b,c,d,e){throw new p.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function g(a,b){a||f(a,!0,b,"==",p.ok)}function h(a,b){if(a===b)return!0;if(m.isBuffer(a)&&m.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return m.isDate(a)&&m.isDate(b)?a.getTime()===b.getTime():m.isRegExp(a)&&m.isRegExp(b)?a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase:m.isObject(a)||m.isObject(b)?j(a,b):a==b}function i(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function j(a,b){if(m.isNullOrUndefined(a)||m.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(i(a))return i(b)?(a=n.call(a),b=n.call(b),h(a,b)):!1;try{var c,d,e=q(a),f=q(b)}catch(g){return!1}if(e.length!=f.length)return!1;for(e.sort(),f.sort(),d=e.length-1;d>=0;d--)if(e[d]!=f[d])return!1;for(d=e.length-1;d>=0;d--)if(c=e[d],!h(a[c],b[c]))return!1;return!0}function k(a,b){return a&&b?"[object RegExp]"==Object.prototype.toString.call(b)?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1:!1}function l(a,b,c,d){var e;m.isString(c)&&(d=c,c=null);try{b()}catch(g){e=g}if(d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&f(e,c,"Missing expected exception"+d),!a&&k(e,c)&&f(e,c,"Got unwanted exception"+d),a&&e&&c&&!k(e,c)||!a&&e)throw e}var m=a("util/"),n=Array.prototype.slice,o=Object.prototype.hasOwnProperty,p=b.exports=g;p.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=e(this),this.generatedMessage=!0);var b=a.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var c=new Error;if(c.stack){var d=c.stack,g=b.name,h=d.indexOf("\n"+g);if(h>=0){var i=d.indexOf("\n",h+1);d=d.substring(i+1)}this.stack=d}}},m.inherits(p.AssertionError,Error),p.fail=f,p.ok=g,p.equal=function(a,b,c){a!=b&&f(a,b,c,"==",p.equal)},p.notEqual=function(a,b,c){a==b&&f(a,b,c,"!=",p.notEqual)},p.deepEqual=function(a,b,c){h(a,b)||f(a,b,c,"deepEqual",p.deepEqual)},p.notDeepEqual=function(a,b,c){h(a,b)&&f(a,b,c,"notDeepEqual",p.notDeepEqual)},p.strictEqual=function(a,b,c){a!==b&&f(a,b,c,"===",p.strictEqual)},p.notStrictEqual=function(a,b,c){a===b&&f(a,b,c,"!==",p.notStrictEqual)},p.throws=function(){l.apply(this,[!0].concat(n.call(arguments)))},p.doesNotThrow=function(){l.apply(this,[!1].concat(n.call(arguments)))},p.ifError=function(a){if(a)throw a};var q=Object.keys||function(a){var b=[];for(var c in a)o.call(a,c)&&b.push(c);return b}},{"util/":3}],2:[function(a,b){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],3:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a){return a}function h(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)f.push(F(b,String(g))?m(a,b,c,d,String(g),!0):"");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("FWaASH"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":2,FWaASH:5,inherits:4}],4:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],5:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(a,b){!function(){"use strict";var c=a("./type"),d={};d.indexOf=function(a,b,c){var d,e;if(!a||!b)return-1;if(c=0|c,isNaN(c)&&(c=0),c>=a.length)return-1;if(0>c&&(c=a.length+c,0>c&&(c=0)),Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b,c);for(d=c,e=a.length;e>d;++d)if(b===a[d])return d;return-1},d.forEach=function(a,b,d){var e,f;if(c.assertNonNullOrUndefined("arr",a),c.assertFunction("callbackfn",b),Array.prototype.forEach)return Array.prototype.forEach.call(a,b,d);for(e=0,f=a.length;f>e;++e)b.call(d,a[e],e,a)},d.each=d.every=function(a,b,d){var e,f;if(c.assertNonNullOrUndefined("arr",a),c.assertFunction("callbackfn",b),Array.prototype.every)return Array.prototype.every.call(a,b,d);for(e=0,f=a.length;f>e;++e)if(!b.call(d,a[e],e,a))return!1;return!0},d.some=function(a,b,d){var e,f;if(c.assertNonNullOrUndefined("arr",a),c.assertFunction("callbackfn",b),Array.prototype.some)return Array.prototype.some.call(a,b,d);for(e=0,f=a.length;f>e;++e)if(!0===b.call(d,a[e],e,a))return!0;return!1},d.filter=function(a,b,e){var f=[];return c.assertNonNullOrUndefined("arr",a),c.assertFunction("callbackfn",b),Array.prototype.filter?Array.prototype.filter.call(a,b,e):(d.forEach(a,function(c,d){b.call(e,c,d,a)&&f.push(c)}),f)},b.exports=d}()},{"./type":21}],7:[function(a,b){!function(c,d){"use strict";var e=a("./type").expando,f={getElementById:function(a){var b=a.createElement("div");a.documentElement.appendChild(b).setAttribute("id",e);var c=a.getElementsByName&&a.getElementsByName(e).length;return a.documentElement.removeChild(b),b=null,!!c}(d)};b.exports=f}(window,document)},{"./type":21}],8:[function(a,b){!function(){"use strict";var c=a("./utils"),d={SYSTEM_ERROR:{code:10001,info:"未知错误"},PARAM_ERROR:{code:10002,info:"参数错误"},CAPTCHA_FAILED:{code:20221,info:"验证码验证失败 "},ACCOUNT_NOT_EXIST:{code:20205,info:"帐号不存在"},ACCOUNT_NOT_EXIST_1:{code:10009,info:"帐号不存在"},ACCOUNT_NOT_ACTIVED:{code:20231,info:"登陆账号未激活"},ACCOUNT_KILLED:{code:20232,info:"登陆账号被封杀"},ACCOUNT_PWD_WRONG:{code:20206,info:"账号或密码错误"},LOGIN_TIME_OUT:{code:1e5,info:"登录超时"},NEED_USERNAME:{code:100001,info:"请输入通行证用户名"},NEED_PASSWORD:{code:100002,info:"请输入通行证密码"}};c.freeze(d),b.exports=d}(window,document)},{"./utils":22}],9:[function(a,b){!function(c){"use strict";var d=a("./type"),e=d.debug?c.console:{};e&&d.strobject===typeof e||(e={});for(var f="trace,info,log,debug,warn,error".split(","),g=f.length-1;g>=0;g--)e[f[g]]=e[f[g]]||d.noop;b.exports=e}(window)},{"./type":21}],10:[function(a,b){!function(c,d){"use strict";var e=a("./utils"),f={cookie:{},getCookie:function(){return this.cookie},parsePassportCookie:function(){var a,b,f,g;if(!0!==(c.navigator&&navigator.cookieEnabled))return this;this.cookie={};var h=d.cookie.split("; ");for(b=0;b<h.length;++b)if(g=h[b].match(/^p(?:pinf|pinfo|assport)=(.+)$/),g&&g[1]){a=g[1];break}if(!a)return this;try{f=unescape(a).split("|"),("1"==f[0]||"2"==f[0]&&f[3])&&this._parsePassportCookie(e.math.utf8to16(e.math.b64_decodex(f[3])))}catch(i){}return this},_parsePassportCookie:function(a){for(var b,c,d,e,f=0,g=a.indexOf(":",f);-1!=g&&(b=a.substring(f,g),e=a.indexOf(":",g+1),-1!=e)&&(c=parseInt(a.substring(g+1,e)),d=a.substr(e+1,c),"|"==a.charAt(e+1+c));)this.cookie[b]=d,f=e+2+c,g=a.indexOf(":",f);return this}};b.exports={PassportCookieParser:{parse:function(){return f.parsePassportCookie().getCookie()}}}}(window,document)},{"./utils":22}],11:[function(a,b){!function(c,d,e){"use strict";function f(a){var b=z;return b&&o.strobject===typeof b&&o.strundefined!==typeof b.appendChild&&b.parentNode||(b=z=d.createElement("div"),b.style.cssText=r,b.className=b.id=q,d.body.appendChild(b)),o.isFunction(a)&&a(b),b}function g(a){var b,c,d,e,f;for(f=x={},o.assertPlainObject("options",a),k.mixin(f,A),k.mixin(f,a),b=w.length-1;b>=0;--b)for(d=w[b],c=d.name.length-1;c>=0;--c)if(e=d.name[c],!d.validate(e,f[e]))throw new Error(o.strfunction===typeof d.errmsg?d.errmsg(e,f[e]):d.errmsg);f._token=k.math.uuid()}function h(a,b){return a.replace(/<%=([\w\-]+?)%>/g,function(a,c){var d=b[c];return e===d?"":d})}var i,j,k=a("./utils"),l=a("./codes"),m=a("./console"),n=a("./event"),o=k.type,p=a("./cookie").PassportCookieParser,q=o.expando,r="width:1px;height:1px;position:absolute;left:-10000px;display:block;visibility:hidden;",s={login_success:"loginsuccess",login_failed:"loginfailed",logout_success:"logoutsuccess",third_party_login_complete:"3rdlogincomplete",param_error:"paramerror"},t={login:"https://account.sogou.com/web/login",logout:"https://account.sogou.com/web/logout_js",active:"https://account.sogou.com/web/remindActivate",captcha:"https://account.sogou.com/captcha",trdparty:"http://account.sogou.com/connect/login"},u={size:{renren:[880,620],sina:[780,640],qq:[500,300]}},v='<form method="post" action="'+t.login+'" target="'+q+'"><input type="hidden" name="username" value="<%=username%>"><input type="hidden" name="password" value="<%=password%>"><input type="hidden" name="captcha" value="<%=vcode%>"><input type="hidden" name="autoLogin" value="<%=autoLogin%>"><input type="hidden" name="client_id" value="<%=appid%>"><input type="hidden" name="xd" value="<%=redirectUrl%>"><input type="hidden" name="token" value="<%=token%>"></form><iframe name="'+q+'" src="about:blank" style="'+r+'"></iframe>',w=[{name:["appid"],validate:function(a,b){return b&&(o.strstr===typeof b||o.strnumber===typeof b)},errmsg:function(a){return'"'+a+'" SHOULD be a string or a number'}},{name:["redirectUrl"],validate:function(a,b){return b&&o.strstr===typeof b&&new RegExp("^"+location.protocol+"//"+location.host,"i").test(b)},errmsg:function(a){return'"'+a+'" SHOULD be a URL which has the some domain as the current page'}}],x=null,y=null,z=null,A={appid:null,redirectUrl:null},B="Passport has not been initialized yet",C={validateUsername:function(a){return o.isNonEmptyString(a)&&/^[\w-@\.]+$/.test(a)},validatePassword:function(a){return o.isNonEmptyString(a)&&/^[\w-]{6,16}$/.test(a)},validateCaptcha:function(a){return o.isNonEmptyString(a)&&/^[a-zA-Z0-9]+$/.test(a)}};for(i in C)o.isFunction(C[i])&&k.hideSource(i,C[i],"PassportSC.tools.");var D={version:"0.0.8",tools:C,init:function(a){return this.isInitialized()?m.warn("Passport has already been initialized"):(m.trace("Initialize passport"),g(a)),c.PassportSC},login:function(a,b,c,d){if(!this.isInitialized())throw new Error(B);m.trace("logining with:"+Array.prototype.join.call(arguments));var e;return arguments.length<4&&(d=c,c=""),C.validateUsername(a)?C.validatePassword(b)?c&&!C.validateCaptcha(c)?(this.emit(s.param_error,{name:"captcha",value:c,msg:"验证码格式不正确"}),!1):(j=a,e={username:a,password:b,vcode:c||"",autoLogin:+!!d,appid:x.appid,redirectUrl:x.redirectUrl,token:x._token},f(function(a){a.innerHTML=h(v,e),a.getElementsByTagName("form")[0].submit()}),!0):(this.emit(s.param_error,{name:"password",value:b,msg:"密码格式不正确"}),!1):(this.emit(s.param_error,{name:"username",value:a,msg:"账号格式不正确"}),!1)},login3rd:function(a,b,d){if(!this.isInitialized())throw new Error(B);o.assertNonEmptyString("provider",a);var e=u.size[a];if(!e)throw new Error('provider:"'+a+'" is not supported in  third party login');"popup"===b?o.assertNonEmptyString("redirectUrl",d):o.isUndefined(b)?(b="page",d=location.href):d=d||location.href;var f=t.trdparty+"?client_id="+x.appid+"&provider="+a+"&ru="+encodeURIComponent(d);if("popup"===b){var g=(c.screen.availWidth-e[0])/2;c.open(f,"","height="+e[1]+",width="+e[0]+",top=80,left="+g+",toolbar=no,menubar=no")}else{if("page"!==b)throw new Error('display:"'+b+'" is not supported in third party login');location.href=f}return!0},logout:function(){if(!this.isInitialized())throw new Error(B);m.trace("logouting");var a=this,b=t.logout+"?client_id="+x.appid;f(function(c){k.dom.addIframe(c,b,function(){a.emit(s.logout_success)})})},userid:function(){if(!this.isInitialized())throw new Error(B);return p.parse().userid||""},_logincb:function(a){if(!this.isInitialized())return void m.trace("Login callback received but [Passport] has not been initialized");if(!a||o.strobject!==typeof a)return m.error("Nothing callback received"),a.msg="登录失败",void this.emit(s.login_failed,a);if(o.isNonEmptyString(a.msg)&&(a.msg=decodeURIComponent(a.msg)),0===+a.status)a.msg=a.msg||"登录成功",this.emit(s.login_success,a);else if(20231===+a.status)a.activeurl=t.active+"?email="+encodeURIComponent(j||"")+"&client_id="+x.appid+"&ru="+encodeURIComponent(location.href),a.msg=a.msg||"帐号未激活",this.emit(s.login_failed,a);else if(+a.needcaptcha)a.captchaimg=t.captcha+"?token="+x._token+"&t="+ +new Date,a.msg=a.msg||"需要验证码",this.emit(s.login_failed,a);else{if(!a.msg)for(var b in l)if(l[b].code==a.status){a.msg=l[b].info;break}a.msg=a.msg||"未知错误",this.emit(s.login_failed,a)}},_logincb3rd:function(){return this.isInitialized()?void this.emit(s.third_party_login_complete):void m.trace("Login3rd callback received but [Passport] has not been initialized")},isInitialized:function(){return!!x},getOptions:function(){var a={};return k.mixin(a,x)},getSupportedEvents:function(){var a={};return k.mixin(a,s)}};y=function(){return D.init.apply(D,arguments)},k.mixin(y,D),k.mixin(y,new n);for(i in y)o.isFunction(y[i])&&k.hideSource(i,y[i]);c.PassportSC&&o.isPlainObject(c.PassportSC)?(k.mixin(c.PassportSC,y),o.isFunction(c.PassportSC.onApiLoaded)&&c.PassportSC.onApiLoaded()):c.PassportSC=y,b.exports={PassportSC:c.PassportSC,addSupportedEvent:function(a,b){return o.assertNonEmptyString("name",a),o.assertNonEmptyString("val",b),s[a]=b,s},addFixedUrl:function(a,b){return o.assertNonEmptyString("name",a),o.assertNonEmptyString("url",b),t[a]=b,t}}}(window,document)},{"./codes":8,"./console":9,"./cookie":10,"./event":13,"./utils":22}],12:[function(a,b){!function(c,d){"use strict";var e=a("./type"),f=a("./buggy");if(!c||!d||!d.documentElement||"HTML"!==d.documentElement.nodeName)throw new Error("It's only for HTML document");var g={addLink:function(a,b){e.assertNonEmptyString("href",a),b?e.assertFunction(b):b=e.noop;var c=d.createElement("link");return c.rel="stylesheet",c.type="text/css",d.getElementsByTagName("head")[0].appendChild(c),c.readyState?c.onreadystatechange=function(){("loaded"===c.readyState||"complete"===c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},c.href=a,c},addScript:function(a,b){e.assertNonEmptyString("src",a),b?e.assertFunction(b):b=e.noop;var c=d.createElement("script");return c.type="text/javascript",c.charset="utf-8",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},c.src=a,d.getElementsByTagName("head")[0].appendChild(c),c},addIframe:function(a,b,c){e.assertHTMLElement("container",a),e.assertNonEmptyString("url",b);var f=d.createElement("iframe");f.style.cssText="height:1px;width:1px;visibility:hidden;",f.src=b,f.attachEvent?f.attachEvent("onload",function(){e.isFunction(c)&&c()}):f.onload=function(){e.isFunction(c)&&c()},a.appendChild(f)},bindEvent:function(a,b,c){return e.assertHTMLElement("ele",a),e.assertNonEmptyString("evt",b),e.assertFunction("func",c),d.addEventListener?a.addEventListener(b,c,!1):d.attachEvent&&a.attachEvent("on"+b,c),this},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},eventTarget:function(a){return a=a||c.event,a.target||a.srcElement},id:function(a){e.assertNonEmptyString("id",a);var b,c,g=d.getElementById(a);return f.getElementById?g&&(c=typeof g.getAttributeNode!==e.strundefined&&g.getAttributeNode("id"),c&&c.value===a)?g:(b=d.getElementsByTagName("*"),array.some(b,function(b){return b&&1===b.nodeType&&b.id===a?!0:void 0}),g&&g.id===a?g:null):g&&g.parentNode?g:null}};b.exports=g}(window,document)},{"./buggy":7,"./type":21}],13:[function(a,b){!function(){"use strict";var c=a("./utils"),d=a("./console"),e=c.array,f=c.type,g=function(){var a={};this.on=function(b,d,g){var h;return f.assertNonEmptyString("event",b),f.assertFunction("func",d),h=c.trim(b).split(/\s/),e.forEach(h,function(b){a[b]=a[b]||[],a[b].push({type:b,func:d,thisArg:g})}),this},this.off=function(b,d){var g,h;return f.assertNonEmptyString("event",b),f.assertFunction("func",d),g=c.trim(b).split(/\s/),e.forEach(g,function(b){return d?(h=a[b],void(f.isArray(h)&&(a[b]=e.filter(h,function(a){return a.func!==d})))):(delete a[b],this)}),this},this.emit=function(b,g){var h,i;return f.assertNonEmptyString("event",b),h=c.trim(b).split(/\s/),e.forEach(h,function(b){i=a[b],f.isArray(i)&&e.forEach(i,function(a){a.timestamp=+new Date,a.func.call(a.thisArg||null,a,g)})}),d.trace("emitting "+h.join()),this}};b.exports=g}()},{"./console":9,"./utils":22}],14:[function(a,b){!function(){"use strict";var a=0,c=8,d={b64_423:function(a){for(var b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","-","_"],c="",d=0;d<a.length;d++){for(var e=0;64>e;e++)if(a.charAt(d)==b[e]){var f=e.toString(2);c+=("000000"+f).substr(f.length);break}if(64==e)return 2==d?c.substr(0,8):c.substr(0,16)}return c},b2i:function(a){for(var b=0,c=128,d=0;8>d;d++,c/=2)"1"==a.charAt(d)&&(b+=c);return String.fromCharCode(b)},b64_decodex:function(a){var b,c=[],d="";for(b=0;b<a.length;b+=4)d+=this.b64_423(a.substr(b,4));for(b=0;b<d.length;b+=8)c+=this.b2i(d.substr(b,8));return c},hex_md5:function(a){return this.binl2hex(this.core_md5(this.str2binl(a),a.length*c))},core_md5:function(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=this.md5_ff,h=this.md5_gg,i=this.md5_hh,j=this.md5_ii,k=0;k<a.length;k+=16){var l=c,m=d,n=e,o=f;c=g(c,d,e,f,a[k+0],7,-680876936),f=g(f,c,d,e,a[k+1],12,-389564586),e=g(e,f,c,d,a[k+2],17,606105819),d=g(d,e,f,c,a[k+3],22,-1044525330),c=g(c,d,e,f,a[k+4],7,-176418897),f=g(f,c,d,e,a[k+5],12,1200080426),e=g(e,f,c,d,a[k+6],17,-1473231341),d=g(d,e,f,c,a[k+7],22,-45705983),c=g(c,d,e,f,a[k+8],7,1770035416),f=g(f,c,d,e,a[k+9],12,-1958414417),e=g(e,f,c,d,a[k+10],17,-42063),d=g(d,e,f,c,a[k+11],22,-1990404162),c=g(c,d,e,f,a[k+12],7,1804603682),f=g(f,c,d,e,a[k+13],12,-40341101),e=g(e,f,c,d,a[k+14],17,-1502002290),d=g(d,e,f,c,a[k+15],22,1236535329),c=h(c,d,e,f,a[k+1],5,-165796510),f=h(f,c,d,e,a[k+6],9,-1069501632),e=h(e,f,c,d,a[k+11],14,643717713),d=h(d,e,f,c,a[k+0],20,-373897302),c=h(c,d,e,f,a[k+5],5,-701558691),f=h(f,c,d,e,a[k+10],9,38016083),e=h(e,f,c,d,a[k+15],14,-660478335),d=h(d,e,f,c,a[k+4],20,-405537848),c=h(c,d,e,f,a[k+9],5,568446438),f=h(f,c,d,e,a[k+14],9,-1019803690),e=h(e,f,c,d,a[k+3],14,-187363961),d=h(d,e,f,c,a[k+8],20,1163531501),c=h(c,d,e,f,a[k+13],5,-1444681467),f=h(f,c,d,e,a[k+2],9,-51403784),e=h(e,f,c,d,a[k+7],14,1735328473),d=h(d,e,f,c,a[k+12],20,-1926607734),c=i(c,d,e,f,a[k+5],4,-378558),f=i(f,c,d,e,a[k+8],11,-2022574463),e=i(e,f,c,d,a[k+11],16,1839030562),d=i(d,e,f,c,a[k+14],23,-35309556),c=i(c,d,e,f,a[k+1],4,-1530992060),f=i(f,c,d,e,a[k+4],11,1272893353),e=i(e,f,c,d,a[k+7],16,-155497632),d=i(d,e,f,c,a[k+10],23,-1094730640),c=i(c,d,e,f,a[k+13],4,681279174),f=i(f,c,d,e,a[k+0],11,-358537222),e=i(e,f,c,d,a[k+3],16,-722521979),d=i(d,e,f,c,a[k+6],23,76029189),c=i(c,d,e,f,a[k+9],4,-640364487),f=i(f,c,d,e,a[k+12],11,-421815835),e=i(e,f,c,d,a[k+15],16,530742520),d=i(d,e,f,c,a[k+2],23,-995338651),c=j(c,d,e,f,a[k+0],6,-198630844),f=j(f,c,d,e,a[k+7],10,1126891415),e=j(e,f,c,d,a[k+14],15,-1416354905),d=j(d,e,f,c,a[k+5],21,-57434055),c=j(c,d,e,f,a[k+12],6,1700485571),f=j(f,c,d,e,a[k+3],10,-1894986606),e=j(e,f,c,d,a[k+10],15,-1051523),d=j(d,e,f,c,a[k+1],21,-2054922799),c=j(c,d,e,f,a[k+8],6,1873313359),f=j(f,c,d,e,a[k+15],10,-30611744),e=j(e,f,c,d,a[k+6],15,-1560198380),d=j(d,e,f,c,a[k+13],21,1309151649),c=j(c,d,e,f,a[k+4],6,-145523070),f=j(f,c,d,e,a[k+11],10,-1120210379),e=j(e,f,c,d,a[k+2],15,718787259),d=j(d,e,f,c,a[k+9],21,-343485551),c=this.safe_add(c,l),d=this.safe_add(d,m),e=this.safe_add(e,n),f=this.safe_add(f,o)}return[c,d,e,f]},md5_cmn:function(a,b,c,d,e,f){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(b,a),this.safe_add(d,f)),e),c)},md5_ff:function(a,b,c,d,e,f,g){return this.md5_cmn(b&c|~b&d,a,b,e,f,g)},md5_gg:function(a,b,c,d,e,f,g){return this.md5_cmn(b&d|c&~d,a,b,e,f,g)},md5_hh:function(a,b,c,d,e,f,g){return this.md5_cmn(b^c^d,a,b,e,f,g)},md5_ii:function(a,b,c,d,e,f,g){return this.md5_cmn(c^(b|~d),a,b,e,f,g)},safe_add:function(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c},bit_rol:function(a,b){return a<<b|a>>>32-b},binl2hex:function(b){for(var c=a?"0123456789ABCDEF":"0123456789abcdef",d="",e=0;e<4*b.length;e++)d+=c.charAt(b[e>>2]>>e%4*8+4&15)+c.charAt(b[e>>2]>>e%4*8&15);return d},str2binl:function(a){for(var b=[],d=(1<<c)-1,e=0;e<a.length*c;e+=c)b[e>>5]|=(a.charCodeAt(e/c)&d)<<e%32;return b},utf8to16:function(a){var b,c,d,e,f,g,h,i,j;for(b=[],e=a.length,c=d=0;e>c;){switch(f=a.charCodeAt(c++),f>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b[d++]=a.charAt(c-1);break;case 12:case 13:g=a.charCodeAt(c++),b[d++]=String.fromCharCode((31&f)<<6|63&g);break;case 14:g=a.charCodeAt(c++),h=a.charCodeAt(c++),b[d++]=String.fromCharCode((15&f)<<12|(63&g)<<6|63&h);break;case 15:switch(15&f){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:g=a.charCodeAt(c++),h=a.charCodeAt(c++),i=a.charCodeAt(c++),j=(7&f)<<18|(63&g)<<12|(63&h)<<6|(63&i)-65536,b[d]=j>=0&&1048575>=j?String.fromCharCode(j>>>10&1023|55296,1023&j|56320):"?";break;case 8:case 9:case 10:case 11:c+=4,b[d]="?";break;case 12:case 13:c+=5,b[d]="?"}}d++}return b.join("")},s4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},uuid:function(){var a=this.s4;return a()+a()+a()+a()+a()+a()+a()+a()}};b.exports=d}()},{}],15:[function(a){!function(){"use strict";var b=a("assert"),c=a("../array");describe("Array",function(){describe("#indexOf()",function(){it("should find the correct index",function(){b.equal(2,c.indexOf([1,2,3],3))}),it("should return -1 when the value is not present",function(){b.equal(-1,c.indexOf([1,2,3],5)),b.equal(-1,c.indexOf([1,2,3,4],1,1))})}),describe("#forEach()",function(){it("should for each all",function(){var a=[1,2,3,4,5,6],d=0;c.forEach(a,function(){++d}),b.equal(d,a.length)})}),describe("#every()",function(){it("should return true when all elements gt 0",function(){b.equal(!0,c.every([1,3,4,7],function(a){return a>=0}))}),it("should return false when one element lnt 1",function(){b.equal(!1,c.every([1,3,4,7],function(a){return a>1}))})}),describe("#some()",function(){it("should return true when one element lt 2",function(){b.equal(!0,c.some([1,3,4,7],function(a){return 2>a}))}),it("should return false when all element lnt 10",function(){b.equal(!1,c.some([1,3,4,7],function(a){return a>10}))})}),describe("#filter()",function(){it("should only one element left",function(){b.equal(1,c.filter([1,3,4,7],function(a){return 2>a}).length)})})})}()},{"../array":6,assert:1}],16:[function(a){!function(b,c){var d=a("assert"),e=a("../cookie").PassportCookieParser;describe("Cookie",function(){it("userid parse",function(){navigator.cookieEnabled&&(c.cookie="ppinf=2|1402199707|1403409307|bG9naW5pZDowOnx1c2VyaWQ6NDQ6QkY1NkM3NEU1MEM1Mjk1RTQ2MDBCNEE0NDRBQzMxQTBAcXEuc29odS5jb218c2VydmljZXVzZTozMDowMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDB8Y3J0OjA6fGVtdDoxOjB8YXBwaWQ6NDoxMTIwfHRydXN0OjE6MXxwYXJ0bmVyaWQ6MTowfHJlbGF0aW9uOjA6fHV1aWQ6MTY6YzA3YWYyODJhZTViNDI3eHx1aWQ6MTY6YzA3YWYyODJhZTViNDI3eHx1bmlxbmFtZTo0MzpOaWdodGluZ2FsZVkxMzYxJUU1JTlDJUE4JUU2JTkwJTlDJUU3JThCJTkwfHJlZnVzZXJpZDozMjpCRjU2Qzc0RTUwQzUyOTVFNDYwMEI0QTQ0NEFDMzFBMHxyZWZuaWNrOjEzOk5pZ2h0aW5nYWxlLll8",d.equal("BF56C74E50C5295E4600B4A444AC31A0@qq.sohu.com",e.parse().userid))})})}(window,document)},{"../cookie":10,assert:1}],17:[function(a){!function(){var b=a("assert"),c=a("../event");describe("Event",function(){it("event emit",function(){var a=new c,d=0,e="tick",f=function(){++d};a.on(e,f),a.emit(e),b.equal(1,d),a.off(e,f),a.emit(e),b.equal(1,d)})})}()},{"../event":13,assert:1}],18:[function(a){!function(){{var b=a("assert"),c=a("../math");a("../console")}describe("Math",function(){it("base64 decode",function(){b.equal(escape("搜狗passport"),c.utf8to16(c.b64_decodex("JXU2NDFDJXU3MkQ3cGFzc3BvcnQ=")))}),it("create 32 bytes uuid",function(){b.equal(32,c.uuid().length)})})}()},{"../console":9,"../math":14,assert:1}],19:[function(a){!function(b,c,d){var e=a("assert"),f=a("../type");describe("Type",function(){function a(a,b){return function(a,b){return function(){e(f["is"+a](i[a].pos[b]))}}(a,b)}function g(a,b){return function(a,b){return function(){e(!f["is"+a](i[a].nec[b]))}}(a,b)}function h(a,b){return function(a,b){return function(){e.throws(function(){f["assert"+a](i[a].nec[b])})}}(a,b)}var i={RegExp:{nec:["x",0,!1,{},[],null,d,new Date,f.noop],pos:[/regexp/,new RegExp]},Date:{nec:[/x/,"x",0,!1,{},[],null,d,f.noop],pos:[new Date]},String:{nec:[/x/,0,!1,{},[],null,d,new Date,f.noop],pos:["string",new String]},Array:{nec:[/x/,"x",0,!1,{length:1},,null,d,new Date,f.noop],pos:[[],Array()]},Boolean:{nec:[/x/,"x",0,{},[],null,d,new Date,f.noop],pos:[!0,new Boolean]},Function:{nec:[/x/,"x",0,!1,{},[],null,d,new Date],pos:[f.noop,new Function]},Number:{nec:[/x/,"x",!1,{},[],null,d,new Date,f.noop],pos:[2.3,new Number,-9e-8,0/0,Number.MAX_VALUE,Number.POSITIVE_INFINITY]},Object:{nec:["x",1,!1,d,f.noop],pos:[[],{},new Object,null,b,new Date,new String,new RegExp]},Empty:{nec:[/x/,"x",1,!1,{},new Date,f.noop],pos:["",[],null,d]},HTMLElement:{nec:[/x/,"x",1,!1,{},[],null,d,new Date,f.noop],pos:[c.documentElement,c.createElement("p")]},PlainObject:{nec:["x",1,!1,[],null,d,f.noop],pos:[{},new Object,b]},Undefined:{nec:[/x/,"x",1,!1,{},[],null,new Date,f.noop],pos:[d,this.__no]},Null:{nec:[/x/,"x",1,!1,{},[],d,new Date,f.noop],pos:[null]},Integer:{nec:[/x/,"2.2",.002,2.2,!1,{},[],null,d,new Date,f.noop],pos:[6,100,2,9]},NullOrUndefined:{nec:[/x/,"x",1,!1,{},[],new Date,f.noop],pos:[null,d]},NonNullOrUndefined:{nec:[null,d],pos:[{},/x/,[],"",!1]},NonEmptyString:{nec:[/x/,!1,{},[],null,d,new Date,f.noop],pos:["x",new String("y")]}};
for(var j in i){for(var k=0;k<i[j].pos.length;++k)it("expecting "+i[j].pos[k]+" to be "+j,a(j,k));for(k=0;k<i[j].nec.length;++k)it("unexpecting "+i[j].nec[k]+" to be "+j,g(j,k)),it("throwing when"+i[j].nec[k]+" to be "+j,h(j,k))}})}(window,document)},{"../type":21,assert:1}],20:[function(a){!function(){var b=a("assert"),c=a("../utils"),d=a("../console");describe("Utils",function(){it("#mixin()",function(){var a={x:89},d={};b.equal(89,c.mixin(d,a).x)}),it("#trim()",function(){b.equal(0,c.trim(" 	\r\n\f").length)}),it("#getIEVersion()",function(){var a=c.getIEVersion();a&&(d.log("IE"+a),b(c.type.isInteger(a)&&a>4&&12>a))}),it("#hideSource()",function(){var a={say:function(){}},d=c.hideSource("say",a.say).call(a.say);b(/say\(\s*\w\s*,\s*\w\s*,\s*\w\s*\)/.test(d))})})}()},{"../console":9,"../utils":22,assert:1}],21:[function(a,b){!function(){"use strict";function a(a){return function(a){return function(b){return"[object "+a+"]"==={}.toString.apply(b)}}(a)}function c(a){return function(a){return function(b,c){if(arguments.length<2&&(c=b,b=String(c)),!e["is"+a](c))throw new Error('"'+b+'" has to be a(n) '+a)}}(a)}for(var d=function(){},e={expando:"sogou-passport-"+ +new Date,noop:d,debug:0,strundefined:"undefined",strstr:"string",strobject:typeof{},strnumber:"number",strfunction:typeof d,isNullOrUndefined:function(a){return!(!this.isNull(a)&&!this.isUndefined(a))},isNonNullOrUndefined:function(a){return!this.isNullOrUndefined(a)},isInteger:function(a){return!(!this.isNumber(a)||!/^(\-|\+)?\d+?$/i.test(a))},isNull:function(a){return null===a},isUndefined:function(a){return void 0===a},isPlainObject:function(a){return this.isObject(a)&&!this.isNull(a)&&!this.isArray(a)&&!this.isRegExp(a)&&!this.isDate(a)},isNonEmptyString:function(a){return!(!a||!this.isString(a))},isHTMLElement:function(a){return!!(a&&a.childNodes&&a.tagName&&a.appendChild)},isEmpty:function(a){return this.isNullOrUndefined(a)||this.isArray(a)&&!a.length||""===a},isObject:function(a){return e.strobject===typeof a}},f="RegExp,Date,String,Array,Boolean,Function,Number".split(","),g=f.length-1;g>=0;--g)e["is"+f[g]]=a(f[g]),e["assert"+f[g]]=c(f[g]);var h="Empty,HTMLElement,PlainObject,Undefined,Null,Integer,NullOrUndefined,NonNullOrUndefined,NonEmptyString,Object".split(",");for(g=h.length;g>=0;--g)e["assert"+h[g]]=c(h[g]);b.exports=e}()},{}],22:[function(a,b){!function(){"use strict";var c=a("./array"),d=a("./math"),e=a("./type"),f=a("./dom"),g="[\\x20\\t\\r\\n\\f]",h=new RegExp("^"+g+"+|((?:^|[^\\\\])(?:\\\\.)*)"+g+"+$","g"),i={math:d,array:c,dom:f,type:e,mixin:function(a,b){b=b||{},e.assertNonNullOrUndefined("dest",a);for(var c in b)b.hasOwnProperty&&b.hasOwnProperty(c)&&(a[c]=b[c]);return a},getIEVersion:function(){var a,b=navigator.userAgent,c={4:8,5:9,6:10,7:11};return a=b.match(/MSIE (\d+)/i),a&&a[1]?+a[1]:(a=b.match(/Trident\/(\d+)/i),a&&a[1]?c[a[1]]||null:null)},trim:function(a){return String.prototype.trim?String.prototype.trim.call(String(a)):String(a).replace(h,"")},freeze:function(a){return e.assertNonNullOrUndefined("obj",a),e.assertObject("obj",a),e.strundefined!==typeof Object&&e.strfunction===typeof Object.freeze&&Object.freeze(a),a},hideSource:function(a,b,c){e.assertNonEmptyString("name",a),e.assertFunction("func",b),c?e.assertNonEmptyString(c):c="PassportSC.";var d=String(b);return b.toString=function(a,b){return function(){return c+a+b.match(/\([^\{\(]+(?=\{)/)[0]}}(a,d),b.toString}};i.freeze(d),i.freeze(f),i.freeze(e),i.freeze(c),b.exports=i}()},{"./array":6,"./dom":12,"./math":14,"./type":21}]},{},[6,7,8,9,10,11,12,13,14,21,22,15,16,17,18,19,20]);