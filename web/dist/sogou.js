!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){!function(){"use strict";b.exports={SYSTEM_ERROR:{code:10001,info:"未知错误"},PARAM_ERROR:{code:10002,info:"参数错误"},CAPTCHA_FAILED:{code:20221,info:"验证码验证失败 "},ACCOUNT_NOT_EXIST:{code:20205,info:"帐号不存在"},ACCOUNT_NOT_EXIST_1:{code:10009,info:"帐号不存在"},ACCOUNT_NOT_ACTIVED:{code:20231,info:"登陆账号未激活"},ACCOUNT_KILLED:{code:20232,info:"登陆账号被封杀"},ACCOUNT_PWD_WRONG:{code:20206,info:"账号或密码错误"},LOGIN_TIME_OUT:{code:1e5,info:"登录超时"},NEED_USERNAME:{code:100001,info:"请输入通行证用户名"},NEED_PASSWORD:{code:100002,info:"请输入通行证密码"}}}(window,document)},{}],2:[function(a){var b=a("./utils"),c=a("./codes");!function(a,d,e){"use strict";function f(a){var c,d,e,f,g=this.opt=q;if(!a||m!==typeof a)throw new Error('"options" MUST be set as a plain object');for(b.mixin(g,a),c=r.length-1;c>=0;--c)for(e=r[c],d=e.name.length-1;d>=0;--d)if(f=e.name[d],!e.validate(f,g[f]))throw new Error(o===typeof e.errmsg?e.errmsg(f,g[f]):e.errmsg);g._token=b.uuid()}var g="sogou.js",h="sogou-passport-"+ +new Date,i=a.console,j=function(){},k=typeof e,l="string",m=typeof{},n="number",o=typeof j;if(k===typeof i&&(i={trace:j,info:j,log:j,debug:j,warn:j,error:j}),!a||!d||!d.documentElement||"HTML"!==d.documentElement.nodeName)throw new Error(g+" is only for HTML document");var p='<form method="post" action="https://account.sogou.com/web/login" target="'+h+'"><input type="hidden" name="username" value="<%=username%>"><input type="hidden" name="password" value="<%=password%>"><input type="hidden" name="captcha" value="<%=vcode%>"><input type="hidden" name="autoLogin" value="<%=autoLogin%>"><input type="hidden" name="client_id" value="<%=appid%>"><input type="hidden" name="xd" value="<%=redirectUrl%>"><input type="hidden" name="token" value="<%=token%>"></form><iframe name="'+h+'" src="about:blank" style="width：1px;height:1px;position:absolute;left:-1000px;"></iframe>',q={appid:null,redirectUrl:null,container:null,onLoginSuccess:j,onLoginFailed:j,onLogoutSuccess:j},r=[{name:["appid"],validate:function(a,b){return b&&(l===typeof b||n===typeof b)},errmsg:function(a){return'"'+a+'" SHOULD be set as a string or a number'}},{name:["redirectUrl"],validate:function(a,b){return b&&l===typeof b&&new RegExp("^"+location.protocol+"//"+location.host,"i").test(b)},errmsg:function(a){return'"'+a+'" SHOULD be set as a URL which has the some domain as the current page'}},{name:["container"],validate:function(a,b){return b&&m===typeof b&&b.appendChild&&l===typeof b.innerHTML&&!b.childNodes.length},errmsg:function(a){return'"'+a+'" SHOULD to be an empty HTMLElement'}},{name:["onLoginSuccess","onLoginFailed","onLogoutSuccess"],validate:function(a,b){return o===typeof b},errmsg:function(a){return'"'+a+'" SHOULD to be a function'}}];f.prototype={login:function(a,b,c,d){var f;arguments.length<4&&(d=c,c=""),this._currentUname=a,f={username:a,password:b,vcode:c,autoLogin:+!!d,appid:this.opt.appid,redirectUrl:this.opt.redirectUrl,token:this.opt._token},this.opt.container.innerHTML=p.replace(/<%=(\w+?)%>/g,function(){return e===f[RegExp.$1]?"":f[RegExp.$1]}),this.opt.container.getElementsByTagName("form")[0].submit()},logout:function(){var a=this,c="https://account.sogou.com/web/logout_js?client_id="+this.opt.appid;b.addIframe(this.opt.container,c,function(){a.onLogoutSuccess()})},parserRelation:function(){var a=this.cookie.relation;if(l===typeof a&&a.length>0)for(var b=a.split(";"),c=0;c<b.length;c++)for(var d=b[c].split(","),e=d[2].split("#"),f=0;f<e.length;f++)if(this.opt.appid==e[f])return d[0];return""},parsePassportCookie:function(){for(var a,c=d.cookie.split("; "),e=0;e<c.length;e++){if(0===c[e].indexOf("ppinf=")){a=c[e].substr(6);break}if(0===c[e].indexOf("ppinfo=")){a=c[e].substr(7);break}if(0===c[e].indexOf("passport=")){a=c[e].substr(9);break}}if(e==c.length)return void(this.cookie=!1);try{var f=unescape(a).split("|");if("1"==f[0]||"2"==f[0]){var g=b.utf8to16(b.b64_decodex(f[3]));return void this._parsePassportCookie(g)}}catch(h){}},_parsePassportCookie:function(a){var b,c,d,e=0,f=a.indexOf(":",e);for(this.cookie={};-1!=f&&(b=a.substring(e,f),lenEnd_offset=a.indexOf(":",f+1),-1!=lenEnd_offset)&&(c=parseInt(a.substring(f+1,lenEnd_offset)),d=a.substr(lenEnd_offset+1,c),"|"==a.charAt(lenEnd_offset+1+c));)this.cookie[b]=d,e=lenEnd_offset+2+c,f=a.indexOf(":",e);relation_userid=this.parserRelation(),l===typeof relation_userid&&relation_userid.length>0&&(this.cookie[b]=relation_userid);try{this.cookie.service={};var g=this.cookie.service;g.mail=0,g.alumni=0,g.chinaren=0,g.blog=0,g.pp=0,g.club=0,g.crclub=0,g.group=0,g.say=0,g.music=0,g.focus=0,g[17173]=0,g.vip=0,g.rpggame=0,g.pinyin=0,g.relaxgame=0;var h=this.cookie.serviceuse;1==h.charAt(0)?g.mail="sohu":1==h.charAt(2)?g.mail="sogou":this.cookie.userid.indexOf("@chinaren.com")>0&&(g.mail="chinaren"),1==h.charAt(1)&&(g.alumni=1),1==h.charAt(3)&&(g.blog=1),1==h.charAt(4)&&(g.pp=1),1==h.charAt(5)&&(g.club=1),1==h.charAt(7)&&(g.crclub=1),1==h.charAt(8)&&(g.group=1),1==h.charAt(10)&&(g.music=1),(1==h.charAt(11)||this.cookie.userid.lastIndexOf("@focus.cn")>0)&&(g.focus=1),(1==h.charAt(12)||this.cookie.userid.indexOf("@17173.com")>0)&&(g[17173]=1),1==h.charAt(13)&&(g.vip=1),1==h.charAt(14)&&(g.rpggame=1),1==h.charAt(15)&&(g.pinyin=1),1==h.charAt(16)&&(g.relaxgame=1)}catch(i){}},parseCookie:function(){for(var a,c=d.cookie.split("; "),e=0,f=c.length;f>e;e++){if(0===c[e].indexOf("ppinf=")){a=c[e].substr(6);break}if(0===c[e].indexOf("ppinfo=")){a=c[e].substr(7);break}if(0===c[e].indexOf("passport=")){a=c[e].substr(9);break}}if(!a)return null;try{if(a=unescape(a).split("|"),"1"==a[0]||"2"==a[0])return a=b.utf8to16(b.b64_decodex(a[3])),void this.parsePassportCookie(a)}catch(g){}},loginCallback:function(a){var b;if(a&&m===typeof a)if(0===+a.status)this.opt.onLogoutSuccess(a);else if(20231===+a.status)location.href="https://account.sogou.com/web/remindActivate?email="+encodeURIComponent(this._currentUname)+"&client_id="+this.opt.appid+"&ru="+encodeURIComponent(location.href);else if(+a.needcaptcha)a.captchaimg="https://account.sogou.com/captcha?token="+this.opt._token+"&t="+ +new Date,this.opt.onLoginFailed(a);else{for(b in c)if(c[b].code==a.status){a.msg=c[b].info;break}a.msg=a.msg||"未知错误",this.opt.onLoginFailed(a)}else i.error("Nothing callback received"),this.opt.onLoginFailed(a)}};var s=null,t="Passport has not been initialized yet",u={init:function(a){return s?i.warn("Passport has already been initialized"):(i.trace("Initialize passport"),s=new f(a)),this},login:function(){if(!s)throw new Error(t);return i.trace("logining with:"+Array.prototype.join.call(arguments)),s.login.apply(s,arguments),this},logout:function(){if(!s)throw new Error(t);return i.trace("logouting"),s.logout.apply(s,arguments),this},userid:function(){if(!s)throw new Error(t);return s.parsePassportCookie(),s.cookie.userid||""},_logincb:function(a){s?s.loginCallback(a):i.trace("Login callback received but [Passport] has not been initialized")}};a.PassportSC&&m===typeof a.PassportSC?(b.mixin(a.PassportSC,u),o===typeof a.PassportSC.onApiLoaded&&a.PassportSC.onApiLoaded()):a.PassportSC=u}(window,document)},{"./codes":1,"./utils":3}],3:[function(a,b){!function(a){"use strict";var c=0,d=8;b.exports={b64_423:function(a){for(var b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","-","_"],c="",d=0;d<a.length;d++){for(var e=0;64>e;e++)if(a.charAt(d)==b[e]){var f=e.toString(2);c+=("000000"+f).substr(f.length);break}if(64==e)return 2==d?c.substr(0,8):c.substr(0,16)}return c},b2i:function(a){for(var b=0,c=128,d=0;8>d;d++,c/=2)"1"==a.charAt(d)&&(b+=c);return String.fromCharCode(b)},b64_decodex:function(a){var b,c=[],d="";for(b=0;b<a.length;b+=4)d+=this.b64_423(a.substr(b,4));for(b=0;b<d.length;b+=8)c+=this.b2i(d.substr(b,8));return c},hex_md5:function(a){return this.binl2hex(this.core_md5(this.str2binl(a),a.length*d))},core_md5:function(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=this.md5_ff,h=this.md5_gg,i=this.md5_hh,j=this.md5_ii,k=0;k<a.length;k+=16){var l=c,m=d,n=e,o=f;c=g(c,d,e,f,a[k+0],7,-680876936),f=g(f,c,d,e,a[k+1],12,-389564586),e=g(e,f,c,d,a[k+2],17,606105819),d=g(d,e,f,c,a[k+3],22,-1044525330),c=g(c,d,e,f,a[k+4],7,-176418897),f=g(f,c,d,e,a[k+5],12,1200080426),e=g(e,f,c,d,a[k+6],17,-1473231341),d=g(d,e,f,c,a[k+7],22,-45705983),c=g(c,d,e,f,a[k+8],7,1770035416),f=g(f,c,d,e,a[k+9],12,-1958414417),e=g(e,f,c,d,a[k+10],17,-42063),d=g(d,e,f,c,a[k+11],22,-1990404162),c=g(c,d,e,f,a[k+12],7,1804603682),f=g(f,c,d,e,a[k+13],12,-40341101),e=g(e,f,c,d,a[k+14],17,-1502002290),d=g(d,e,f,c,a[k+15],22,1236535329),c=h(c,d,e,f,a[k+1],5,-165796510),f=h(f,c,d,e,a[k+6],9,-1069501632),e=h(e,f,c,d,a[k+11],14,643717713),d=h(d,e,f,c,a[k+0],20,-373897302),c=h(c,d,e,f,a[k+5],5,-701558691),f=h(f,c,d,e,a[k+10],9,38016083),e=h(e,f,c,d,a[k+15],14,-660478335),d=h(d,e,f,c,a[k+4],20,-405537848),c=h(c,d,e,f,a[k+9],5,568446438),f=h(f,c,d,e,a[k+14],9,-1019803690),e=h(e,f,c,d,a[k+3],14,-187363961),d=h(d,e,f,c,a[k+8],20,1163531501),c=h(c,d,e,f,a[k+13],5,-1444681467),f=h(f,c,d,e,a[k+2],9,-51403784),e=h(e,f,c,d,a[k+7],14,1735328473),d=h(d,e,f,c,a[k+12],20,-1926607734),c=i(c,d,e,f,a[k+5],4,-378558),f=i(f,c,d,e,a[k+8],11,-2022574463),e=i(e,f,c,d,a[k+11],16,1839030562),d=i(d,e,f,c,a[k+14],23,-35309556),c=i(c,d,e,f,a[k+1],4,-1530992060),f=i(f,c,d,e,a[k+4],11,1272893353),e=i(e,f,c,d,a[k+7],16,-155497632),d=i(d,e,f,c,a[k+10],23,-1094730640),c=i(c,d,e,f,a[k+13],4,681279174),f=i(f,c,d,e,a[k+0],11,-358537222),e=i(e,f,c,d,a[k+3],16,-722521979),d=i(d,e,f,c,a[k+6],23,76029189),c=i(c,d,e,f,a[k+9],4,-640364487),f=i(f,c,d,e,a[k+12],11,-421815835),e=i(e,f,c,d,a[k+15],16,530742520),d=i(d,e,f,c,a[k+2],23,-995338651),c=j(c,d,e,f,a[k+0],6,-198630844),f=j(f,c,d,e,a[k+7],10,1126891415),e=j(e,f,c,d,a[k+14],15,-1416354905),d=j(d,e,f,c,a[k+5],21,-57434055),c=j(c,d,e,f,a[k+12],6,1700485571),f=j(f,c,d,e,a[k+3],10,-1894986606),e=j(e,f,c,d,a[k+10],15,-1051523),d=j(d,e,f,c,a[k+1],21,-2054922799),c=j(c,d,e,f,a[k+8],6,1873313359),f=j(f,c,d,e,a[k+15],10,-30611744),e=j(e,f,c,d,a[k+6],15,-1560198380),d=j(d,e,f,c,a[k+13],21,1309151649),c=j(c,d,e,f,a[k+4],6,-145523070),f=j(f,c,d,e,a[k+11],10,-1120210379),e=j(e,f,c,d,a[k+2],15,718787259),d=j(d,e,f,c,a[k+9],21,-343485551),c=this.safe_add(c,l),d=this.safe_add(d,m),e=this.safe_add(e,n),f=this.safe_add(f,o)}return[c,d,e,f]},md5_cmn:function(a,b,c,d,e,f){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(b,a),this.safe_add(d,f)),e),c)},md5_ff:function(a,b,c,d,e,f,g){return this.md5_cmn(b&c|~b&d,a,b,e,f,g)},md5_gg:function(a,b,c,d,e,f,g){return this.md5_cmn(b&d|c&~d,a,b,e,f,g)},md5_hh:function(a,b,c,d,e,f,g){return this.md5_cmn(b^c^d,a,b,e,f,g)},md5_ii:function(a,b,c,d,e,f,g){return this.md5_cmn(c^(b|~d),a,b,e,f,g)},safe_add:function(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c},bit_rol:function(a,b){return a<<b|a>>>32-b},binl2hex:function(a){for(var b=c?"0123456789ABCDEF":"0123456789abcdef",d="",e=0;e<4*a.length;e++)d+=b.charAt(a[e>>2]>>e%4*8+4&15)+b.charAt(a[e>>2]>>e%4*8&15);return d},str2binl:function(a){for(var b=[],c=(1<<d)-1,e=0;e<a.length*d;e+=d)b[e>>5]|=(a.charCodeAt(e/d)&c)<<e%32;return b},utf8to16:function(a){var b,c,d,e,f,g,h,i,j;for(b=[],e=a.length,c=d=0;e>c;){switch(f=a.charCodeAt(c++),f>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b[d++]=a.charAt(c-1);break;case 12:case 13:g=a.charCodeAt(c++),b[d++]=String.fromCharCode((31&f)<<6|63&g);break;case 14:g=a.charCodeAt(c++),h=a.charCodeAt(c++),b[d++]=String.fromCharCode((15&f)<<12|(63&g)<<6|63&h);break;case 15:switch(15&f){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:g=a.charCodeAt(c++),h=a.charCodeAt(c++),i=a.charCodeAt(c++),j=(7&f)<<18|(63&g)<<12|(63&h)<<6|(63&i)-65536,b[d]=j>=0&&1048575>=j?String.fromCharCode(j>>>10&1023|55296,1023&j|56320):"?";break;case 8:case 9:case 10:case 11:c+=4,b[d]="?";break;case 12:case 13:c+=5,b[d]="?"}}d++}return b.join("")},addIframe:function(b,c,d){var e=a.document.createElement("iframe");e.style.height="1px",e.style.width="1px",e.style.visibility="hidden",e.src=c,e.attachEvent?e.attachEvent("onload",function(){"function"==typeof d&&d()}):e.onload=function(){"function"==typeof d&&d()},b.appendChild(e)},s4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},uuid:function(){var a=this.s4;return a()+a()+a()+a()+a()+a()+a()+a()},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},mixin:function(a,b){if(!b||"object"!=typeof b)return a;for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}}}(window,document)},{}]},{},[1,2,3]);
//# sourceMappingURL=sogou.map